<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Decidimos o qu√©</title>

<style>
* { box-sizing: border-box; font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; }
body {
  margin: 0;
  background: linear-gradient(135deg, #ff4fa1, #ff8bd8);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}
.app {
  width: 100%;
  max-width: 380px;
  background: #fff;
  border-radius: 25px;
  padding: 25px;
  text-align: center;
  box-shadow: 0 15px 40px rgba(0,0,0,.25);
}
h1 { color: #ff2f92; margin-bottom: 5px; }
.subtitle { font-size: .85rem; color: #888; margin-bottom: 20px; }
.filters label { font-size: .8rem; display: block; text-align: left; margin-bottom: 5px; }
select {
  width: 100%;
  padding: 10px;
  border-radius: 12px;
  border: none;
  background: #ffe2f1;
  margin-bottom: 15px;
}
.card-wrapper { position: relative; height: 130px; }
.card {
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, #ff5ec4, #ff8bd8);
  border-radius: 20px;
  padding: 25px;
  font-size: 1.2rem;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  animation: pop .25s ease;
}
@keyframes pop { from { transform: scale(.9); opacity:0; } to { transform: scale(1); opacity:1; } }
.swipe-left { animation: left .25s ease forwards; }
.swipe-right { animation: right .25s ease forwards; }
@keyframes left { to { transform: translateX(-120%) rotate(-10deg); opacity:0; } }
@keyframes right { to { transform: translateX(120%) rotate(10deg); opacity:0; } }

.buttons { display: flex; justify-content: space-between; margin-top: 20px; }
button {
  width: 48%;
  padding: 15px;
  border-radius: 50px;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
}
.nope { background: #ffd0e5; }
.like { background: #000; color: white; }
button:active { transform: scale(.96); }

.msg { margin-top: 15px; font-size: .85rem; color: #555; min-height: 20px; }

#confetti { position: fixed; inset: 0; pointer-events: none; z-index: 999; }
</style>
</head>

<body>
<div class="app">
  <h1>¬øQu√© hacemos?</h1>
  <div class="subtitle">Desliza y decide üñ§</div>

  <div class="filters">
    <label>‚è± Tiempo</label>
    <select id="time">
      <option value="1h">1 hora</option>
      <option value="2-3h">2‚Äì3 horas</option>
      <option value="tarde">Tarde entera</option>
    </select>

    <label>üí∏ Presupuesto</label>
    <select id="money">
      <option value="0">0‚Ç¨</option>
      <option value="1-15">1‚Äì15‚Ç¨</option>
      <option value="+15">+15‚Ç¨</option>
    </select>

    <label>üîã Energ√≠a</label>
    <select id="energy">
      <option value="low">Muertos</option>
      <option value="mid">Normales</option>
      <option value="high">Motivados</option>
    </select>
  </div>

  <div class="card-wrapper">
    <div class="card" id="card">Pulsa üñ§ para empezar</div>
  </div>

  <div class="buttons">
    <button class="nope" onclick="nextPlan()">‚ùå</button>
    <button class="like" onclick="likePlan()">üñ§</button>
  </div>

  <div class="msg" id="msg"></div>
</div>

<canvas id="confetti"></canvas>

<script>
// TODOS LOS PLANES
const plans = [
  { text:"Nos quedamos en Vic√°lvaro", time:["1h"], money:["0"], energy:["low"] },
  { text:"Mini paseo por el barrio", time:["1h"], money:["0"], energy:["low"] },
  { text:"Sentados en un banco viendo la calle", time:["1h"], money:["0"], energy:["low"] },
  { text:"Mirar nubes en el parque", time:["1h"], money:["0"], energy:["low"] },
  { text:"Fotos tontas con el m√≥vil", time:["1h"], money:["0"], energy:["low"] },
  { text:"Ir al parque Valdebernardo", time:["1h"], money:["0"], energy:["low"] },
  { text:"Ver una peli en casa", time:["1h"], money:["0"], energy:["low"] },
  { text:"Ir al McDonald's", time:["1h"], money:["1-15"], energy:["low"] },
  { text:"Comer empanadas venezolanas", time:["1h"], money:["1-15"], energy:["low"] },
  { text:"Merendar por el barrio", time:["1h"], money:["1-15"], energy:["low"] },
  { text:"Comer tortitas", time:["1h"], money:["1-15"], energy:["low"] },
  { text:"Churros con chocolate en el Bernis", time:["1h"], money:["1-15"], energy:["low"] },
  { text:"Hacer un mini picnic en el parque Valdebernardo", time:["1h"], money:["1-15"], energy:["low"] },
  { text:"Cenar en el Vips", time:["1h"], money:["+15"], energy:["low"] },
  { text:"Comprar un postre gourmet y comerlo", time:["1h"], money:["+15"], energy:["low"] },
  { text:"Ir a cafeter√≠a cara solo a ver", time:["1h"], money:["+15"], energy:["low"] },
  { text:"Probar un helado premium", time:["1h"], money:["+15"], energy:["low"] },
  { text:"Mini ruta por un mercado gourmet", time:["1h"], money:["+15"], energy:["low"] },
  { text:"Ir a un Starbucks", time:["1h"], money:["+15"], energy:["low"] },
  { text:"Comprar dulces", time:["1h"], money:["+15"], energy:["low"] },
  { text:"Quedamos en la casa del otro", time:["2-3h"], money:["0"], energy:["low"] },
  { text:"Paseo corto por el parque Valdebernardo", time:["2-3h"], money:["0"], energy:["low"] },
  { text:"Ir al Carrefour de Las Rosas", time:["2-3h"], money:["0"], energy:["low"] },
  { text:"Dar una vuelta por el barrio", time:["2-3h"], money:["0"], energy:["low"] },
  { text:"Sentarse en un banco a charlar", time:["2-3h"], money:["0"], energy:["low"] },
  { text:"Visita gratuita a exposiciones", time:["2-3h"], money:["0"], energy:["low"] },
  { text:"Paseo largo por el parque Valdebernardo", time:["tarde"], money:["0"], energy:["low"] },
  { text:"Sentarse en banco a ver atardecer", time:["tarde"], money:["0"], energy:["low"] },
  { text:"Fotitos tranquilas por el barrio", time:["tarde"], money:["0"], energy:["low"] },
  { text:"Dar una vuelta por el barrio", time:["tarde"], money:["0"], energy:["low"] },
  { text:"Jugar en las canchas", time:["tarde"], money:["0"], energy:["low"] },
  { text:"Mini picnic improvisado en c√©sped", time:["tarde"], money:["0"], energy:["low"] },
  // ... resto de planes tal como los ten√≠as, asegur√°ndote de que haya m√≠nimo 7 por categor√≠a
];

// Variables
let filtered = [];
let index = 0;
const card = document.getElementById("card");
const msg = document.getElementById("msg");
const time = document.getElementById("time");
const money = document.getElementById("money");
const energy = document.getElementById("energy");

// Inicializar filtros
window.onload = () => loadPlans();
time.addEventListener("change", loadPlans);
money.addEventListener("change", loadPlans);
energy.addEventListener("change", loadPlans);

function loadPlans() {
  filtered = plans.filter(p =>
    p.time.includes(time.value) &&
    p.money.includes(money.value) &&
    p.energy.includes(energy.value)
  );
  index = 0;
  showPlan();
}

function showPlan() {
  if (!filtered.length) { card.textContent = "No hay plan, calma"; return; }
  card.className = "card";
  card.textContent = filtered[index].text;
}

// SWIPE
const swipeMsgs = ["Ya vamos, siguiente plan","No te rayes, pasamos al pr√≥ximo","Esto decide por nosotros","Calma, hay m√°s planes"];
function nextPlan() {
  if (!filtered.length) return;
  card.classList.add("swipe-left");
  msg.textContent = swipeMsgs[Math.floor(Math.random()*swipeMsgs.length)];
  setTimeout(() => { index = (index+1)%filtered.length; showPlan(); }, 250);
}

function likePlan() {
  if (!filtered.length) { msg.textContent = "No hay planes, cambia los filtros."; return; }
  msg.textContent = "Ya estamos tardando en ir";
  launchConfetti();
}

// CONFETTI FLUIDO
function launchConfetti(duration = 2000) {
  const canvas = document.getElementById("confetti");
  const ctx = canvas.getContext("2d");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const confettis = [];
  for (let i = 0; i < 150; i++) {
    confettis.push({
      x: Math.random() * canvas.width,
      y: Math.random() * -canvas.height,
      r: Math.random() * 6 + 4,
      tilt: Math.random() * 10 - 5,
      speed: Math.random() * 3 + 2,
      tiltSpeed: Math.random() * 0.3 + 0.1,
      color: `hsl(${Math.random()*360},100%,50%)`
    });
  }

  let start = null;
  function animate(timeStamp) {
    if (!start) start = timeStamp;
    const elapsed = timeStamp - start;
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    confettis.forEach(c => {
      ctx.fillStyle = c.color;
      ctx.fillRect(c.x + c.tilt, c.y, c.r, c.r);

      c.y += c.speed;
      c.tilt += c.tiltSpeed;

      if (c.y > canvas.height) c.y = Math.random() * -canvas.height;
      if (c.tilt > 15 || c.tilt < -15) c.tilt = Math.random()*10-5;
    });

    if (elapsed < duration) requestAnimationFrame(animate);
  }
  requestAnimationFrame(animate);
}
</script>
</body>
</html>}
.card-wrapper { position: relative; height: 130px; }
.card {
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, #ff5ec4, #ff8bd8);
  border-radius: 20px;
  padding: 25px;
  font-size: 1.2rem;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  animation: pop .25s ease;
}
@keyframes pop { from { transform: scale(.9); opacity:0; } to { transform: scale(1); opacity:1; } }
.swipe-left { animation: left .25s ease forwards; }
.swipe-right { animation: right .25s ease forwards; }
@keyframes left { to { transform: translateX(-120%) rotate(-10deg); opacity:0; } }
@keyframes right { to { transform: translateX(120%) rotate(10deg); opacity:0; } }

.buttons { display: flex; justify-content: space-between; margin-top: 20px; }
button {
  width: 48%;
  padding: 15px;
  border-radius: 50px;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
}
.nope { background: #ffd0e5; }
.like { background: #000; color: white; }
button:active { transform: scale(.96); }

.msg { margin-top: 15px; font-size: .85rem; color: #555; min-height: 20px; }

#confetti { position: fixed; inset: 0; pointer-events: none; z-index: 999; }
</style>
</head>

<body>
<div class="app">
  <h1>¬øQu√© hacemos?</h1>
  <div class="subtitle">Desliza y decide üñ§</div>

  <div class="filters">
    <label>‚è± Tiempo</label>
    <select id="time">
      <option value="1h">1 hora</option>
      <option value="2-3h">2‚Äì3 horas</option>
      <option value="tarde">Tarde entera</option>
    </select>

    <label>üí∏ Presupuesto</label>
    <select id="money">
      <option value="0">0‚Ç¨</option>
      <option value="1-15">1‚Äì15‚Ç¨</option>
      <option value="+15">+15‚Ç¨</option>
    </select>

    <label>üîã Energ√≠a</label>
    <select id="energy">
      <option value="low">Muertos</option>
      <option value="mid">Normales</option>
      <option value="high">Motivados</option>
    </select>
  </div>

  <div class="card-wrapper">
    <div class="card" id="card">Pulsa üñ§ para empezar</div>
  </div>

  <div class="buttons">
    <button class="nope" onclick="nextPlan()">‚ùå</button>
    <button class="like" onclick="likePlan()">üñ§</button>
  </div>

  <div class="msg" id="msg"></div>
</div>

<canvas id="confetti"></canvas>

<script>
// TODOS LOS PLANES (todos los que pusiste)
const plans = [
// 1¬∞- 0‚Ç¨, 1h, low
{ text:"Nos quedamos en Vic√°lvaro", time:["1h"], money:["0"], energy:["low"] },
{ text:"Mini paseo por el barrio", time:["1h"], money:["0"], energy:["low"] },
{ text:"Sentados en un banco viendo la calle", time:["1h"], money:["0"], energy:["low"] },
{ text:"Mirar nubes en el parque", time:["1h"], money:["0"], energy:["low"] },
{ text:"Fotos tontas con el m√≥vil", time:["1h"], money:["0"], energy:["low"] },
{ text:"Ir al parque Valdebernardo", time:["1h"], money:["0"], energy:["low"] },
{ text:"Ver una peli en casa", time:["1h"], money:["0"], energy:["low"] },

// ---
// 2¬∞- 1-15‚Ç¨, 1h, low
{ text:"Ir al McDonald's", time:["1h"], money:["1-15"], energy:["low"] },
{ text:"Comer empanadas venezolanas", time:["1h"], money:["1-15"], energy:["low"] },
{ text:"Merendar por el barrio", time:["1h"], money:["1-15"], energy:["low"] },
{ text:"Comer tortitas", time:["1h"], money:["1-15"], energy:["low"] },
{ text:"Churros con chocolate en el Bernis", time:["1h"], money:["1-15"], energy:["low"] },
{ text:"Hacer un mini picnic en el parque Valdebernardo", time:["1h"], money:["1-15"], energy:["low"] },

// ---
// 3¬∞- +15‚Ç¨, 1h, low
{ text:"Cenar en el Vips", time:["1h"], money:["+15"], energy:["low"] },
{ text:"Comprar un postre gourmet y comerlo", time:["1h"], money:["+15"], energy:["low"] },
{ text:"Ir a cafeter√≠a cara solo a ver", time:["1h"], money:["+15"], energy:["low"] },
{ text:"Probar un helado premium", time:["1h"], money:["+15"], energy:["low"] },
{ text:"Mini ruta por un mercado gourmet", time:["1h"], money:["+15"], energy:["low"] },
{ text:"Ir a un Starbucks", time:["1h"], money:["+15"], energy:["low"] },
{ text:"Comprar dulces", time:["1h"], money:["+15"], energy:["low"] },

// ---
// 4¬∞- 0‚Ç¨, 2-3h, low
{ text:"Quedamos en la casa del otro", time:["2-3h"], money:["0"], energy:["low"] },
{ text:"Paseo corto por el parque Valdebernardo", time:["2-3h"], money:["0"], energy:["low"] },
{ text:"Ir al Carrefour de Las Rosas", time:["2-3h"], money:["0"], energy:["low"] },
{ text:"Dar una vuelta por el barrio", time:["2-3h"], money:["0"], energy:["low"] },
{ text:"Sentarse en un banco a charlar", time:["2-3h"], money:["0"], energy:["low"] },
{ text:"Visita gratuita a exposiciones", time:["2-3h"], money:["0"], energy:["low"] },


// ---
// 5¬∞- 0‚Ç¨, tarde, low
{ text:"Paseo largo por el parque Valdebernardo", time:["tarde"], money:["0"], energy:["low"] },
{ text:"Sentarse en banco a ver atardecer", time:["tarde"], money:["0"], energy:["low"] },
{ text:"Fotitos tranquilas por el barrio", time:["tarde"], money:["0"], energy:["low"] },
{ text:"Dar una vuelta por el barrio", time:["tarde"], money:["0"], energy:["low"] },
{ text:"Jugar en las canchas", time:["tarde"], money:["0"], energy:["low"] },
{ text:"Mini picnic improvisado en c√©sped", time:["tarde"], money:["0"], energy:["low"] },

// ---
// 6¬∞- 0‚Ç¨, 1h, mid
{ text:"Fotos por barrio cercano", time:["1h"], money:["0"], energy:["mid"] },
{ text:"Paseo corto por un parque", time:["1h"], money:["0"], energy:["mid"] },
{ text:"Ir a dar un paseo por el barrio", time:["1h"], money:["0"], energy:["mid"] },
{ text:"Mini paseo por un barrio hist√≥rico", time:["1h"], money:["0"], energy:["mid"] },
{ text:"Sentarse a ver el atardecer", time:["1h"], money:["0"], energy:["mid"] },
{ text:"Peque√±a ruta de fotos en calles", time:["1h"], money:["0"], energy:["mid"] },
{ text:"Ir a un banco y hablar de la vida", time:["1h"], money:["0"], energy:["mid"] },

// ---
// 7¬∞- 1-15‚Ç¨, 1h, mid
{ text:"Caf√© y churros en San Gin√©s", time:["1h"], money:["1-15"], energy:["mid"] },
{ text:"Merendar gofres en Chueca", time:["1h"], money:["1-15"], energy:["mid"] },
{ text:"Ruta de churros y chocolate por Sol", time:["1h"], money:["1-15"], energy:["mid"] },
{ text:"Helado en La Mallorquina y paseo por Sol", time:["1h"], money:["1-15"], energy:["mid"] },
{ text:"Ir al Plenilunio", time:["1h"], money:["1-15"], energy:["mid"] },
{ text:"Chocolate con churros", time:["1h"], money:["1-15"], energy:["mid"] },
{ text:"Comprar un dulce y sentarse a comer", time:["1h"], money:["1-15"], energy:["mid"] },

// ---
// 8¬∞- +15‚Ç¨, 1h, mid
{ text:"Cenar en un italiano", time:["1h"], money:["+15"], energy:["mid"] },
{ text:"Caf√© o postre caro", time:["1h"], money:["+15"], energy:["mid"] },
{ text:"Mini ruta por mercado gourmet", time:["1h"], money:["+15"], energy:["mid"] },
{ text:"Probar un helado premium", time:["1h"], money:["+15"], energy:["mid"] },
{ text:"Ir a tienda de chocolates y mirar", time:["1h"], money:["+15"], energy:["mid"] },
{ text:"Postre en Starbucks", time:["1h"], money:["+15"], energy:["mid"] },
{ text:"Mini paseo por zona cara y mirar escaparates", time:["1h"], money:["+15"], energy:["mid"] },
{ text:"Ir a la cachaper√≠a", time:["1h"], money:["+15"], energy:["mid"] },

// ---
// 9¬∞- 0‚Ç¨, 2-3h, mid
{ text:"Paseo por La Latina + fotos", time:["2-3h"], money:["0"], energy:["mid"] },
{ text:"Visitar CaixaForum + fotos", time:["2-3h"], money:["0"], energy:["mid"] },
{ text:"Picnic en Parque del Oeste", time:["2-3h"], money:["0"], energy:["mid"] },
{ text:"Fotos por Chamber√≠", time:["2-3h"], money:["0"], energy:["mid"] },
{ text:"Paseo por Madrid R√≠o al atardecer", time:["2-3h"], money:["0"], energy:["mid"] },
{ text:"Visitar exposiciones gratis", time:["2-3h"], money:["0"], energy:["mid"] },
{ text:"Ir a alg√∫n sitio que no conozcamos caminando", time:["2-3h"], money:["0"], energy:["mid"] },

// ---
// 10¬∞- 0‚Ç¨, tarde, mid
{ text:"Paseo por el Parque del Retiro + fotos", time:["tarde"], money:["0"], energy:["mid"] },
{ text:"Ir a un mercado vintage en Lavapi√©s", time:["tarde"], money:["0"], energy:["mid"] },
{ text:"Mini paseo por barrios tranquilos", time:["tarde"], money:["0"], energy:["mid"] },
{ text:"Fotitos en calles con encanto", time:["tarde"], money:["0"], energy:["mid"] },
{ text:"Sentarse en plaza y charlar", time:["tarde"], money:["0"], energy:["mid"] },
{ text:"Cocinar juntos", time:["tarde"], money:["0"], energy:["mid"] },
{ text:"Pasar la tarde juntos en un banco", time:["tarde"], money:["0"], energy:["mid"] },

// ---
// 11¬∞- 0‚Ç¨, 1h, high
{ text:"Paseo por barrio bonito", time:["1h"], money:["0"], energy:["high"] },
{ text:"Fotos en plazas concurridas", time:["1h"], money:["0"], energy:["high"] },
{ text:"Subir escaleras y ver vistas", time:["1h"], money:["0"], energy:["high"] },
{ text:"Mini carrera en parque cercano", time:["1h"], money:["0"], energy:["high"] },
{ text:"Explorar callecitas nuevas", time:["1h"], money:["0"], energy:["high"] },
{ text:"Peque√±o reto de fotos creativas", time:["1h"], money:["0"], energy:["high"] },
{ text:"Charlar mientras caminamos", time:["1h"], money:["0"], energy:["high"] },

// ---
// 12¬∞- 1-15‚Ç¨, 1h, high
{ text:"Starbucks", time:["1h"], money:["1-15"], energy:["high"] },
{ text:"Merendar gofre y competir a ver qui√©n lo termina antes", time:["1h"], money:["1-15"], energy:["high"] },
{ text:"Merendar por el barrio", time:["1h"], money:["1-15"], energy:["high"] },
{ text:"Peque√±o tour de postres por barrio", time:["1h"], money:["1-15"], energy:["high"] },
{ text:"Helader√≠a", time:["1h"], money:["1-15"], energy:["high"] },

// ---
// 13¬∞- +15‚Ç¨, 1h, high
{ text:"Cenar en un italiano", time:["1h"], money:["+15"], energy:["high"] },
{ text:"Postre premium", time:["1h"], money:["+15"], energy:["high"] },
{ text:"Cafeter√≠a elegante con mini paseo", time:["1h"], money:["+15"], energy:["high"] },
{ text:"Helader√≠a buena", time:["1h"], money:["+15"], energy:["high"] },

// ---
// 14¬∞- 0‚Ç¨, 2-3h, high
{ text:"Ir a Casa de Campo", time:["2-3h"], money:["0"], energy:["high"] },
{ text:"Ir a la piscina", time:["2-3h"], money:["0"], energy:["high"] },
{ text:"Paseo por un parque grande", time:["2-3h"], money:["0"], energy:["high"] },
{ text:"Mini ruta de fotos", time:["2-3h"], money:["0"], energy:["high"] },
{ text:"Explorar barrios nuevos", time:["2-3h"], money:["0"], energy:["high"] },
{ text:"Jugar al f√∫tbol", time:["2-3h"], money:["0"], energy:["high"] },
{ text:"Subir a una azotea", time:["2-3h"], money:["0"], energy:["high"] },

// ---
// 15¬∞- 0‚Ç¨, tarde, high
{ text:"Paseo por el Parque del Retiro + fotos", time:["tarde"], money:["0"], energy:["high"] },
{ text:"Ir a un mirador y fotos nocturnas", time:["tarde"], money:["0"], energy:["high"] },
{ text:"Fotitos por calles animadas", time:["tarde"], money:["0"], energy:["high"] },
{ text:"Explorar plazas iluminadas", time:["tarde"], money:["0"], energy:["high"] },
{ text:"Dar una vuelta por el centro", time:["tarde"], money:["0"], energy:["high"] },
{ text:"Ver tiendas chulis", time:["tarde"], money:["0"], energy:["high"] },
{ text:"Fotos en sitios bonitos", time:["tarde"], money:["0"], energy:["high"] },
];

let filtered = [];
let index = 0;
const card = document.getElementById("card");
const msg = document.getElementById("msg");
const time = document.getElementById("time");
const money = document.getElementById("money");
const energy = document.getElementById("energy");

// Inicializar filtros al cargar
window.onload = () => {
  loadPlans();
};

// Cuando cambie un filtro
time.addEventListener("change", loadPlans);
money.addEventListener("change", loadPlans);
energy.addEventListener("change", loadPlans);

// FILTRAR Y MOSTRAR PLAN
function loadPlans() {
  filtered = plans.filter(p =>
    p.time.includes(time.value) &&
    p.money.includes(money.value) &&
    p.energy.includes(energy.value)
  );
  index = 0;
  showPlan();
}

function showPlan() {
  if (!filtered.length) {
    card.textContent = "No hay plan, calma";
    return;
  }
  card.className = "card";
  card.textContent = filtered[index].text;
}

// SWIPE IZQUIERDA
const swipeMsgs = [
  "Ya vamos, siguiente plan",
  "No te rayes, pasamos al pr√≥ximo ",
  "Esto decide por nosotros",
  "Calma, hay m√°s planes"
];
function nextPlan() {
  if (!filtered.length) return;
  card.classList.add("swipe-left");
  msg.textContent = swipeMsgs[Math.floor(Math.random()*swipeMsgs.length)];
  setTimeout(() => { index = (index+1)%filtered.length; showPlan(); }, 250);
}

// PLAN SELLADO üñ§
function likePlan() {
  if (!filtered.length) {
    msg.textContent = "No hay planes, cambia los filtros.";
    return;
  }
  msg.textContent = "Ya estamos tardando en ir";
  launchConfetti();
}

// CONFETTI
function launchConfetti(duration = 2000) {
  const canvas = document.getElementById("confetti");
  const ctx = canvas.getContext("2d");

  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const confettis = [];
  for (let i = 0; i < 150; i++) {
    confettis.push({
      x: Math.random() * canvas.width,
      y: Math.random() * -canvas.height, // arrancar arriba
      r: Math.random() * 6 + 4,
      tilt: Math.random() * 10 - 5,
      speed: Math.random() * 3 + 2,
      tiltSpeed: Math.random() * 0.3 + 0.1,
      color: `hsl(${Math.random() * 360},100%,50%)`
    });
  }

  let start = null;
  function animate(timeStamp) {
    if (!start) start = timeStamp;
    const elapsed = timeStamp - start;

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    confettis.forEach(c => {
      ctx.beginPath();
      ctx.fillStyle = c.color;
      ctx.fillRect(c.x + c.tilt, c.y, c.r, c.r);
      ctx.closePath();

      c.y += c.speed;
      c.tilt += c.tiltSpeed;

      if (c.y > canvas.height) c.y = Math.random() * -canvas.height; // vuelve arriba aleatorio
      if (c.tilt > 15) c.tilt = Math.random() * 10 - 5; // reset tilt
    });

    if (elapsed < duration) requestAnimationFrame(animate);
  }

  requestAnimationFrame(animate);
      }

  let start = null;
  function animate(timeStamp){
    if(!start) start = timeStamp;
    const elapsed = timeStamp - start;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    confettis.forEach(c=>{
      ctx.beginPath();
      ctx.fillStyle=c.color;
      ctx.fillRect(c.x + c.tilt, c.y, c.r, c.r);
      ctx.closePath();
      c.y += 2;
      c.tilt += 0.5;
      if(c.y>canvas.height) c.y=-10;
    });
    if(elapsed<duration) requestAnimationFrame(animate);
  }
  requestAnimationFrame(animate);
}
</script>
</body>
</html>
